define("boe/util",[],function(){var e=Function("return this")(),t=e.Object.prototype,n=e.Array.prototype,r=e.Function.prototype,i={mixinAsStatic:function(e,t){for(var n in t){if(!t.hasOwnProperty(n))continue;e[n]=i.bind.call(r.call,t[n])}return e},type:function(e){var n=t.toString.call(e),r=n.indexOf("]");return n.substring(8,r)},mixin:function(e,t){t==null&&(t=e,e={});for(var n in t){if(!t.hasOwnProperty(n))continue;e[n]=t[n]}return e},bind:function(e){var t=n.slice,r=this,i=t.call(arguments);return i.shift(),function s(){return this instanceof s&&(e=this),r.apply(e,i.concat(t.call(arguments)))}},g:e};return i}),define("boe/Array",["./util"],function(e){var t=e.g,n=t.Array.prototype,r,i={},s={},o=function(t){return this instanceof o&&(t=Array.apply(null,arguments)),e.mixin(t,i),t};return n.filter?i.filter=function(e){if(this===void 0||this===null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(typeof e!="function")throw new TypeError;var r=[],i=arguments[1];for(var s=0;s<n;s++)if(s in t){var o=t[s];e.call(i,o,s,t)&&r.push(o)}return r}:s.filter=n.filter,n.map?i.map=function(e,t){var n,r,i;if(this==null)throw new TypeError(" this is null or not defined");var s=Object(this),o=s.length>>>0;if(Object.prototype.toString.call(e)!="[object Function]")throw new TypeError(e+" is not a function");t&&(n=t),r=new Array(o),i=0;while(i<o){var u,a;i in s&&(u=s[i],a=e.call(n,u,i,s),r[i]=a),i++}return r}:s.map=n.map,n.lastIndexOf?i.lastIndexOf=function(e){if(this===void 0||this===null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=n;arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:r!==0&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r))));var i=r>=0?Math.min(r,n-1):n-Math.abs(r);for(;i>=0;i--)if(i in t&&t[i]===e)return i;return-1}:s.lastIndexOf=n.lastIndexOf,n.indexOf?i.indexOf=function(e){if(this===void 0||this===null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>0&&(r=Number(arguments[1]),r!==r?r=0:r!==0&&r!==window.Infinity&&r!==-window.Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1}:s.indexOf=n.indexOf,n.forEach?i.forEach=function(e,t){var n,r;if(this==null)throw new TypeError(" this is null or not defined");var i=Object(this),s=i.length>>>0;if(Object.prototype.toString.call(e)!="[object Function]")throw new TypeError(e+" is not a function");t&&(n=t),r=0;while(r<s){var o;r in i&&(o=i[r],e.call(n,o,r,i)),r++}}:s.forEach=n.forEach,n.every?i.every=function(e){if(this===void 0||this===null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(typeof e!="function")throw new TypeError;var r=arguments[1];for(var i=0;i<n;i++)if(i in t&&!e.call(r,t[i],i,t))return!1;return!0}:s.every=n.every,n.some?i.some=function(e){if(this===void 0||this===null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(typeof e!="function")throw new TypeError;var r=arguments[1];for(var i=0;i<n;i++)if(i in t&&e.call(r,t[i],i,t))return!0;return!1}:s.some=n.some,n.reduce?i.reduce=function(t){var n,r=this.length,i;if(typeof t!="function")throw new TypeError("First argument is not callable");if((r==0||r===null)&&arguments.length<=1)throw new TypeError("Array length is 0 and no second argument");arguments.length<=1?(i=this[0],n=1):i=arguments[1];for(n=n||0;n<r;++n)n in this&&(i=t.call(undefined,i,this[n],n,this));return i}:s.reduce=n.reduce,n.reduceRight?i.reduceRight=function(e){if(this===void 0||this===null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(typeof e!="function")throw new TypeError;if(n===0&&arguments.length===1)throw new TypeError;var r=n-1,i;if(arguments.length>=2)i=arguments[1];else do{if(r in this){i=this[r--];break}if(--r<0)throw new TypeError}while(!0);while(r>=0)r in t&&(i=e.call(undefined,i,t[r],r,t)),r--;return i}:s.reduceRight=n.reduceRight,i.shuffle=function(){var e=this.length,t=e;while(t--){var n=parseInt(Math.random()*e),r=this[t];this[t]=this[n],this[n]=r}},i.random=function(e){e===r&&(e=!0);var t=~~(Math.random()*this.length),n=this[t];return e&&this.splice(t,1),n},o.isArray=function(e){return Object.prototype.toString.call(e)=="[object Array]"},e.mixinAsStatic(o,i),e.mixinAsStatic(o,s),o}),define("boe/Function",["./util"],function(e){var t=e.g,n=t.Object.prototype,r=t.Array.prototype,i=t.Function.prototype,s={},o={},u=function(t){return this instanceof u&&(t=Function.apply(null,arguments)),e.mixin(t,s),t};return!function(){function t(t){var n=e.length;while(n--)if(e[n]===t)return!0;return!1}var e=[];s.once=function(){var r=this;if(r!=null&&n.toString.call(r).toLowerCase()!=="[object function]")throw new Error("boeFunction.once.ownerNotFunction");return t(r)?null:(e.push(r),r.call.apply(r,arguments))}}(),!function(e){function t(){this.subs=[],this.value=null}t.prototype.get=function(t){var n=this.subs,r=n.length;while(r--)if(n[r].value===t)return n[r];return e},t.prototype.add=function(e){var n=this.subs,r=new t;return r.value=e,n[n.length]=r,r},s.memorize=function(){var r=this;if(r!=null&&n.toString.call(r).toLowerCase()!=="[object function]")throw new Error("boeFunction.memorize.ownerNotFunction");r.__memorizeData__||(r.__memorizeData__=new t);var i=r.__memorizeData__,s,o,u=i,a=null;for(s=0,o=arguments.length;s<o;s++){var f=arguments[s],l=u.get(f);if(l===e){for(;s<o;s++)u=u.add(arguments[s]);return u.ret=r.call.apply(r,arguments),u.ret}u=l}return a=u.ret,a}}(),!function(){s.cage=function(e){var t=r.slice,n=this,i=t.call(arguments);return i.shift(),function(){return n.apply(e,i.concat(t.call(arguments)))}}}(),i.bind?o.bind=i.bind:s.bind=e.bind,e.mixinAsStatic(u,s),e.mixinAsStatic(u,o),u}),define("boe/Number",["./util"],function(e){var t={},n=function(n){return n=new Number(n),e.mixin(n,t),n};return t.toCurrency=function(e,t){var n=this.valueOf()+"",r=n.indexOf("."),i=n.split(""),s=[],o,u=i.length,a=0,f;r<0&&(r=u);for(var l=0;l<u;l++){if(l>u-1||e!=null&&l>e+r)continue;f=i[l],l<r-1?(o=r-1-l,o!=0&&o%3==0&&(f=i[l]+",")):t&&l>r-1&&a++<=e&&(o=l-r,o!=0&&o%3==0&&l<e+r&&(f=i[l]+",")),s.push(f)}return s[s.length-1]=="."&&s.pop(),n=s.join(""),n},e.mixinAsStatic(n,t),n}),define("boe/Object",["./util"],function(e){var t={},n=function(r){return this instanceof n&&(r=new Object(r,arguments[1])),e.mixin(r,t),r};return!function(e){var n=function(){return new s(this)},r={func:function(t,n){return function(){var r=t[n].apply(t,arguments);return r===e?this:r}},prop:function(t,n){return function(r){return r===e?t[n]:(t[n]=r,this)}}},i={init:function(e){this._0_target=e;var t;for(var n in e)t=Object.prototype.toString.call(e[n]).toUpperCase(),t.indexOf("FUNCTION")>0?this[n]=r.func(e,n):this[n]=r.prop(e,n)}},s=function(e){i.init.call(this,e)};s.prototype={_0_rebuild:function(){return i.init.call(this,this._0_target),this}},t.chainable=n}(),!function(){function e(){}t.shadow=function(n){var r,i=this;e.prototype=i,r=new e;if(n)for(var s in r){var o=r[s];typeof o=="object"&&(r[s]=deepClone(o))}return r}}(),e.mixinAsStatic(n,t),n}),define("boe/String",["./util"],function(e){var t=e.g,n=t.String.prototype,r={},i={},s=function(t){return t=new String(t),e.mixin(t,r),t};return r.toUpperCase=function(e,t){if(e==null&&t==null)return n.toUpperCase.call(this);t==null&&(t=this.length);var r=this.substring(e,t).toUpperCase();return this.substring(0,e)+r+this.substring(t,this.length)},r.format=function(){var e=this,t;for(t=0;t<arguments.length;++t)e=e.replace(new RegExp("\\{"+t+"\\}","g"),arguments[t]);return e},n.trim?r.trim=function(){var e="\\s",t=new RegExp("(^"+e+"*)|("+e+"*$)","g");return this.replace(t,"")}:i=n.trim,e.mixinAsStatic(s,r),e.mixinAsStatic(s,i),s}),define("boe",["./boe/util","./boe/Array","./boe/Function","./boe/Number","./boe/Object","./boe/String"],function(e,t,n,r,i,s){var o,u,a=function(e){return function(){var t=e.apply(this,arguments);return t===o?this:t}};return u=function(t,n){var r=e.type(t),i=u[r];if(i!=null&&e.type(i)==="Function"){var s=i(t);if(n==1)for(var o in s)e.type(s[o])==="Function"&&(s[o]=a(s[o]));return s}return t},u.type=e.type,u.Array=t,u.Function=n,u.Number=r,u.Object=i,u.String=s,u})
/* http://github.com/normanzb/ */!function(){var a,b,c,d=new Function("return this")(),e=d.define||function(a){window.boe=a()};!function(d){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m=b&&b.split("/"),n=s.map,o=n&&n["*"]||{};if(a&&"."===a.charAt(0))if(b){for(m=m.slice(0,m.length-1),a=m.concat(a.split("/")),j=0;j<a.length;j+=1)if(l=a[j],"."===l)a.splice(j,1),j-=1;else if(".."===l){if(1===j&&(".."===a[2]||".."===a[0]))break;j>0&&(a.splice(j-1,2),j-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((m||o)&&n){for(c=a.split("/"),j=c.length;j>0;j-=1){if(d=c.slice(0,j).join("/"),m)for(k=m.length;k>0;k-=1)if(e=n[m.slice(0,k).join("/")],e&&(e=e[d])){f=e,g=j;break}if(f)break;!h&&o&&o[d]&&(h=o[d],i=j)}!f&&h&&(f=h,g=i),f&&(c.splice(0,g,f),a=c.join("/"))}return a}function g(a,b){return function(){return n.apply(d,v.call(arguments,0).concat([a,b]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var b=r[a];delete r[a],t[a]=!0,m.apply(d,b)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,b,c,f){var h,k,l,m,n,s,u=[];if(f=f||a,"function"==typeof c){for(b=!b.length&&c.length?["require","exports","module"]:b,n=0;n<b.length;n+=1)if(m=o(b[n],f),k=m.f,"require"===k)u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=c.apply(q[a],u),a&&(h&&h.exports!==d&&h.exports!==q[a]?q[a]=h.exports:l===d&&s||(q[a]=l))}else a&&(q[a]=c)},a=b=n=function(a,b,c,e,f){return"string"==typeof a?p[a]?p[a](b):j(o(a,b).f):(a.splice||(s=a,b.splice?(a=b,b=c,c=null):a=d),b=b||function(){},"function"==typeof c&&(c=e,e=f),e?m(d,a,b,c):setTimeout(function(){m(d,a,b,c)},4),n)},n.config=function(a){return s=a,s.deps&&n(s.deps,s.callback),n},c=function(a,b,c){b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},c.amd={jQuery:!0}}(),c("../components/almond/almond",function(){}),c("boe/util",[],function(){var a=Function("return this")(),b=a.Object.prototype,c=a.Array.prototype,d=a.Function.prototype,e="function",f={mixinAsStatic:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=f.bind.call(d.call,b[c]));return a},type:function(a){var c=b.toString.call(a),d=c.indexOf("]");return c.substring(8,d)},mixin:function(a,b,c){null==b&&(b=a,a={});for(var d in b)b.hasOwnProperty(d)&&(a[d]=typeof c==e?c(d,b[d]):b[d]);return a},bind:function(a){var b=c.slice,d=this,e=b.call(arguments);return e.shift(),function f(){return this instanceof f&&(a=this),d.apply(a,e.concat(b.call(arguments)))}},g:a};return f}),c("boe/Array",["./util"],function(a){var b,c=a.g,d=c.Array.prototype,e={},f={},g=function(b){return this instanceof g&&(b=Array.apply(null,arguments)),a.mixin(b,e),b};return d.filter?e.filter=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments[1],f=0;c>f;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}:f.filter=d.filter,d.map?e.map=function(a,b){var c,d,e;if(null==this)throw new TypeError(" this is null or not defined");var f=Object(this),g=f.length>>>0;if("[object Function]"!=Object.prototype.toString.call(a))throw new TypeError(a+" is not a function");for(b&&(c=b),d=new Array(g),e=0;g>e;){var h,i;e in f&&(h=f[e],i=a.call(c,h,e,f),d[e]=i),e++}return d}:f.map=d.map,d.lastIndexOf?e.lastIndexOf=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=c;arguments.length>1&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&d!==1/0&&d!==-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d))));for(var e=d>=0?Math.min(d,c-1):c-Math.abs(d);e>=0;e--)if(e in b&&b[e]===a)return e;return-1}:f.lastIndexOf=d.lastIndexOf,d.indexOf?e.indexOf=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&d!==window.Infinity&&d!==-window.Infinity&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}:f.indexOf=d.indexOf,d.forEach?e.forEach=function(a,b){var c,d;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if("[object Function]"!=Object.prototype.toString.call(a))throw new TypeError(a+" is not a function");for(b&&(c=b),d=0;f>d;){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++}}:f.forEach=d.forEach,d.every?e.every=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=arguments[1],e=0;c>e;e++)if(e in b&&!a.call(d,b[e],e,b))return!1;return!0}:f.every=d.every,d.some?e.some=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=arguments[1],e=0;c>e;e++)if(e in b&&a.call(d,b[e],e,b))return!0;return!1}:f.some=d.some,d.reduce?e.reduce=function(a){var b,c,d=this.length;if("function"!=typeof a)throw new TypeError("First argument is not callable");if((0==d||null===d)&&arguments.length<=1)throw new TypeError("Array length is 0 and no second argument");for(arguments.length<=1?(c=this[0],b=1):c=arguments[1],b=b||0;d>b;++b)b in this&&(c=a.call(void 0,c,this[b],b,this));return c}:f.reduce=d.reduce,d.reduceRight?e.reduceRight=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;if(0===c&&1===arguments.length)throw new TypeError;var d,e=c-1;if(arguments.length>=2)d=arguments[1];else for(;;){if(e in this){d=this[e--];break}if(--e<0)throw new TypeError}for(;e>=0;)e in b&&(d=a.call(void 0,d,b[e],e,b)),e--;return d}:f.reduceRight=d.reduceRight,e.shuffle=function(){for(var a=this.length,b=a;b--;){var c=parseInt(Math.random()*a),d=this[b];this[b]=this[c],this[c]=d}},e.random=function(a){a===b&&(a=!0);var c=~~(Math.random()*this.length),d=this[c];return a&&this.splice(c,1),d},g.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)},a.mixinAsStatic(g,e),a.mixinAsStatic(g,f),g}),c("boe/Function",["./util"],function(a){var b=a.g,c=b.Object.prototype,d=b.Array.prototype,e=b.Function.prototype,f={},g={},h={},i=function(b){return this instanceof i&&(b=Function.apply(null,arguments)),a.mixin(b,f,function(a,c){return"function"!=typeof c?c:function(){var a=[this,b].concat(d.slice.call(arguments));return c.call.apply(c,a)}}),a.mixin(b,g),b};return!function(){function a(a){for(var c=b.length;c--;)if(b[c]===a)return!0;return!1}var b=[];f.once=function(d){if(null!=d&&"[object function]"!==c.toString.call(d).toLowerCase())throw new Error("boeFunction.once.ownerNotFunction");return a(d)?null:(b.push(d),d.call.apply(d,arguments))}}(),!function(a){function b(){this.subs=[],this.value=null}b.prototype.get=function(b){for(var c=this.subs,d=c.length;d--;)if(c[d].value===b)return c[d];return a},b.prototype.add=function(a){var c=this.subs,d=new b;return d.value=a,c[c.length]=d,d},f.memorize=function(d){if(null!=d&&"[object function]"!==c.toString.call(d).toLowerCase())throw new Error("boeFunction.memorize.ownerNotFunction");d.__memorizeData__||(d.__memorizeData__=new b);var e,f,g=d.__memorizeData__,h=g,i=null;for(e=0,f=arguments.length;f>e;e++){var j=arguments[e],k=h.get(j);if(k===a){for(;f>e;e++)h=h.add(arguments[e]);return h.ret=d.call.apply(d,arguments),h.ret}h=k}return i=h.ret}}(),!function(){g.cage=function(a){var b=d.slice,c=this,e=b.call(arguments);return e.shift(),function(){return c.apply(a,e.concat(b.call(arguments)))}}}(),e.bind?h.bind=e.bind:g.bind=a.bind,a.mixin(i,f),a.mixinAsStatic(i,g),a.mixinAsStatic(i,h),i}),c("boe/Number",["./util"],function(a){var b={},c=function(c){return c=new Number(c),a.mixin(c,b),c};return b.toCurrency=function(a,b){var c,d,e=this.valueOf()+"",f=e.indexOf("."),g=e.split(""),h=[],i=g.length,j=0;0>f&&(f=i);for(var k=0;i>k;k++)k>i-1||null!=a&&k>a+f||(d=g[k],f-1>k?(c=f-1-k,0!=c&&0==c%3&&(d=g[k]+",")):b&&k>f-1&&j++<=a&&(c=k-f,0!=c&&0==c%3&&a+f>k&&(d=g[k]+",")),h.push(d));return"."==h[h.length-1]&&h.pop(),e=h.join("")},a.mixinAsStatic(c,b),c}),c("boe/Object",["./util"],function(a){var b={},c=function(d){return this instanceof c&&(d=new Object(d,arguments[1])),a.mixin(d,b),d};return!function(a){var c=function(){return new f(this)},d={func:function(b,c){return function(){var d=b[c].apply(b,arguments);return d===a?this:d}},prop:function(b,c){return function(d){return d===a?b[c]:(b[c]=d,this)}}},e={init:function(a){this._0_target=a;var b;for(var c in a)b=Object.prototype.toString.call(a[c]).toUpperCase(),this[c]=b.indexOf("FUNCTION")>0?d.func(a,c):d.prop(a,c)}},f=function(a){e.init.call(this,a)};f.prototype={_0_rebuild:function(){return e.init.call(this,this._0_target),this}},b.chainable=c}(),!function(){function a(){}b.shadow=function(b){var c,d=this;if(a.prototype=d,c=new a,b)for(var e in c){var f=c[e];"object"==typeof f&&(c[e]=deepClone(f))}return c}}(),a.mixinAsStatic(c,b),c}),c("boe/String",["./util"],function(a){var b=a.g,c=b.String.prototype,d={},e={},f=function(b){return b=new String(b),a.mixin(b,d),b};return d.toUpperCase=function(a,b){if(null==a&&null==b)return c.toUpperCase.call(this);null==b&&(b=this.length);var d=this.substring(a,b).toUpperCase();return this.substring(0,a)+d+this.substring(b,this.length)},d.toLowerCase=function(a,b){if(null==a&&null==b)return c.toLowerCase.call(this);null==b&&(b=this.length);var d=this.substring(a,b).toLowerCase();return this.substring(0,a)+d+this.substring(b,this.length)},d.format=function(){var a,b=this;for(a=0;a<arguments.length;++a)b=b.replace(new RegExp("\\{"+a+"\\}","g"),arguments[a]);return b},c.trim?d.trim=function(){var a="\\s",b=new RegExp("(^"+a+"*)|("+a+"*$)","g");return this.replace(b,"")}:e=c.trim,a.mixinAsStatic(f,d),a.mixinAsStatic(f,e),f}),c("boe",["./boe/util","./boe/Array","./boe/Function","./boe/Number","./boe/Object","./boe/String"],function(a,b,c,d,e,f){var g,h,i=function(a){return function(){var b=a.apply(this,arguments);return b===g?this:b}};return h=function(b,c){var d=a.type(b),e=h[d];if(null!=e&&"Function"===a.type(e)){var f=e(b);if(1==c)for(var g in f)"Function"===a.type(f[g])&&(f[g]=i(f[g]));return f}return b},h.type=a.type,h.Array=b,h.Function=c,h.Number=d,h.Object=e,h.String=f,h}),e(function(){return b("boe")})}();
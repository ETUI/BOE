/* http://github.com/normanzb/ */!function(){var a,b,c=new Function("return this")(),d=function(a){var b=a();"undefined"!=typeof module&&(module.exports=b),c.define&&c.define(function(){return b}),c.boe=b};if(function(){function c(a,b){var c,d,e=0;for(a=a.split("/"),b=b.split("/"),a.pop(),c=a.concat(b),d=c.length;d--;)"."==c[d]?c.splice(d,1):".."==c[d]?e++:e>0&&(c.splice(d,2),e--);return c.join("/")}var d={},e=this;b=function(a,b,c){d[a]={p:a,d:b,f:c}},b.amd=!0,a=function(b,f){var g,h,i,j=this,k=[];(null==j||j===e)&&(j={p:"_NE_"}),"string"==typeof b&&null==f&&(b=[b]);for(var l=0;l<b.length;l++){if(h=b[l],i=c(j.p,h),g="require"==i?{p:"_NE_",d:[],f:function(){return a}}:d[i],!g)throw"module not found";k.push(a.call(g,g.d,g.f))}return k.push(a,{}),f?f.apply(e,k):k[0]}}(),b("../lib/amdshim/amdshim",function(){}),b("boe/global",[],function(){return Function("return this")()}),b("boe/Function/bind",["../global"],function(a){var b=a.Function.prototype,c=a.Array.prototype;return b.bind||function(a){var b=c.slice,d=this,e=b.call(arguments);return e.shift(),function f(){return this instanceof f&&(a=this),d.apply(a,e.concat(b.call(arguments)))}}}),b("boe/util",["./global","./Function/bind"],function(a,b){var c=a.Object.prototype,d=a.Array.prototype,e=a.Function.prototype,f="function",g={mixinAsStatic:function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=b.call(e.call,c[d]));return a},type:function(a){var b=c.toString.call(a),d=b.indexOf("]");return b.substring(8,d)},mixin:function(a,b,c){null==b&&(b=a,a={});for(var d in b)b.hasOwnProperty(d)&&(a[d]=typeof c==f?c(d,b[d]):b[d]);return a},slice:function(a){return d.slice.call(a)},g:a};return g}),b("boe/Array",["./util","./global"],function(a,b){var c,d=b.Array.prototype,e={},f={},g=function(b){return this instanceof g&&(b=Array.apply(null,arguments)),a.mixin(b,e),b};return d.filter?e.filter=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments[1],f=0;c>f;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}:f.filter=d.filter,d.map?e.map=function(a,b){var c,d,e;if(null==this)throw new TypeError(" this is null or not defined");var f=Object(this),g=f.length>>>0;if("[object Function]"!=Object.prototype.toString.call(a))throw new TypeError(a+" is not a function");for(b&&(c=b),d=new Array(g),e=0;g>e;){var h,i;e in f&&(h=f[e],i=a.call(c,h,e,f),d[e]=i),e++}return d}:f.map=d.map,d.lastIndexOf?e.lastIndexOf=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=c;arguments.length>1&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&d!==1/0&&d!==-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d))));for(var e=d>=0?Math.min(d,c-1):c-Math.abs(d);e>=0;e--)if(e in b&&b[e]===a)return e;return-1}:f.lastIndexOf=d.lastIndexOf,d.indexOf?e.indexOf=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&d!==window.Infinity&&d!==-window.Infinity&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}:f.indexOf=d.indexOf,d.forEach?e.forEach=function(a,b){var c,d;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if("[object Function]"!=Object.prototype.toString.call(a))throw new TypeError(a+" is not a function");for(b&&(c=b),d=0;f>d;){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++}}:f.forEach=d.forEach,d.every?e.every=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=arguments[1],e=0;c>e;e++)if(e in b&&!a.call(d,b[e],e,b))return!1;return!0}:f.every=d.every,d.some?e.some=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=arguments[1],e=0;c>e;e++)if(e in b&&a.call(d,b[e],e,b))return!0;return!1}:f.some=d.some,d.reduce?e.reduce=function(a){var b,c,d=this.length;if("function"!=typeof a)throw new TypeError("First argument is not callable");if((0==d||null===d)&&arguments.length<=1)throw new TypeError("Array length is 0 and no second argument");for(arguments.length<=1?(c=this[0],b=1):c=arguments[1],b=b||0;d>b;++b)b in this&&(c=a.call(void 0,c,this[b],b,this));return c}:f.reduce=d.reduce,d.reduceRight?e.reduceRight=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;if(0===c&&1===arguments.length)throw new TypeError;var d,e=c-1;if(arguments.length>=2)d=arguments[1];else for(;;){if(e in this){d=this[e--];break}if(--e<0)throw new TypeError}for(;e>=0;)e in b&&(d=a.call(void 0,d,b[e],e,b)),e--;return d}:f.reduceRight=d.reduceRight,e.shuffle=function(){for(var a=this.length,b=a;b--;){var c=parseInt(Math.random()*a),d=this[b];this[b]=this[c],this[c]=d}},e.random=function(a){a===c&&(a=!0);var b=~~(Math.random()*this.length),d=this[b];return a&&this.splice(b,1),d},g.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)},a.mixinAsStatic(g,e),a.mixinAsStatic(g,f),g}),b("boe/Function/once",["../util","../global"],function(a){function b(a){for(var b=d.length;b--;)if(d[b]===a)return!0;return!1}function c(c){var e=a.slice(arguments);if(e[0]=this,null!=c&&"Function"!==a.type(c))throw new Error("boeFunction.once.ownerNotFunction");return b(c)?null:(d.push(c),c.call.apply(c,e))}var d=[];return c}),b("boe/Function/memorize",["../util"],function(a){function b(){this.subs=[],this.value=null}function c(c){var e=a.slice(arguments);if(e[0]=this,null!=c&&"Function"!==a.type(c))throw new Error("boeFunction.memorize.ownerNotFunction");c.__memorizeData__||(c.__memorizeData__=new b);var f,g,h=c.__memorizeData__,i=h,j=null;for(f=0,g=arguments.length;g>f;f++){var k=arguments[f],l=i.get(k);if(l===d){for(;g>f;f++)i=i.add(arguments[f]);return i.ret=c.call.apply(c,e),i.ret}i=l}return j=i.ret}var d;return b.prototype.get=function(a){for(var b=this.subs,c=b.length;c--;)if(b[c].value===a)return b[c];return d},b.prototype.add=function(a){var c=this.subs,d=new b;return d.value=a,c[c.length]=d,d},c}),b("boe/Function/cage",["../util"],function(a){function b(b){var c=this,d=a.slice(arguments);return d.shift(),function(){return c.apply(b,d.concat(a.slice(arguments)))}}return b}),b("boe/Function",["./util","./global","./Function/once","./Function/memorize","./Function/cage","./Function/bind"],function(a,b,c,d,e,f){var g=b.Function.prototype,h={},i={},j={},k=function(b){return this instanceof k&&(b=Function.apply(null,arguments)),a.mixin(b,h,function(c,d){return"function"!=typeof d?d:function(){var c=[this,b].concat(a.slice(arguments));return d.call.apply(d,c)}}),a.mixin(b,i),b};return h.once=c,h.memorize=d,i.cage=e,g.bind?j.bind=g.bind:i.bind=f,a.mixin(k,h),a.mixinAsStatic(k,i),a.mixinAsStatic(k,j),k}),b("boe/Number/toCurrency",[],function(){function a(a,b){var c,d,e=this.valueOf()+"",f=e.indexOf("."),g=e.split(""),h=[],i=g.length,j=0;0>f&&(f=i);for(var k=0;i>k;k++)k>i-1||null!=a&&k>a+f||(d=g[k],f-1>k?(c=f-1-k,0!=c&&0==c%3&&(d=g[k]+",")):b&&k>f-1&&j++<=a&&(c=k-f,0!=c&&0==c%3&&a+f>k&&(d=g[k]+",")),h.push(d));return"."==h[h.length-1]&&h.pop(),e=h.join("")}return a}),b("boe/Number",["./util","./Number/toCurrency"],function(a,b){var c={},d=function(b){return b=new Number(b),a.mixin(b,c),b};return c.toCurrency=b,a.mixinAsStatic(d,c),d}),b("boe/Object/chainable",["../util"],function(a){function b(){return new f(this)}var c,d={func:function(a,b){return function(){var d=a[b].apply(a,arguments);return d===c?this:d}},prop:function(a,b){return function(d){return d===c?a[b]:(a[b]=d,this)}}},e={init:function(b){this._0_target=b;for(var c in b)this[c]="Function"==a.type(b[c])?d.func(b,c):d.prop(b,c)}},f=function(a){e.init.call(this,a)};return f.prototype={_0_rebuild:function(){return e.init.call(this,this._0_target),this}},b}),b("boe/Object/shadow",["../util","../global"],function(a,b){function c(){}function d(b){var k,l=this;if(j in this)return this[j];if(i.push(this),typeof this==f)k=window.eval("true?("+h.toString.call(this)+"):false"),this[j]=k,a.mixin(k,this,b?function(a,c){return a==j?e:typeof c==g||typeof c==f?d.call(c,b):c}:e),delete k[j];else if(c.prototype=l,k=new c,this[j]=k,b)for(var m in k)if(m!=j||0!=k.hasOwnProperty(m)){var n=k[m];(typeof n==g||typeof n==f)&&(k[m]=d.call(n,b))}if(i.pop()!=this)throw"boe.Object.shadow: stack corrupted.";return delete this[j],k}var e,f="function",g="object",h=b.Function.prototype,i=[],j="__boeObjectShadow_Traversed";return d}),b("boe/Object/clone",["../util","../global"],function(a,b){function c(b){var i;if(h in this)return this[h];g.push(this),i=typeof this==d?window.eval("true?("+f.toString.call(this)+"):false"):"Array"==a.type(this)?[]:{},this[h]=i;for(var j in this)if(0!=this.hasOwnProperty(j)&&j!=h){var k=this[j];i[j]=!b||typeof k!=e&&typeof k!=d?k:c.call(k,b)}if(g.pop()!=this)throw"boe.Object.shadow: stack corrupted.";return delete this[h],i}var d="function",e="object",f=b.Function.prototype,g=[],h="__boeObjectClone_Traversed";return c}),b("boe/Object",["./util","./Object/chainable","./Object/shadow","./Object/clone"],function(a,b,c,d){var e={},f=function(b){return this instanceof f&&(b=new Object(b,arguments[1])),a.mixin(b,e),b};return e.chainable=b,e.shadow=c,e.clone=d,a.mixinAsStatic(f,e),f}),b("boe/String/toUpperCase",["../global"],function(a){function b(a,b){if(null==a&&null==b)return c.toUpperCase.call(this);null==b&&(b=this.length);var d=this.substring(a,b).toUpperCase();return this.substring(0,a)+d+this.substring(b,this.length)}var c=a.String.prototype;return b}),b("boe/String/toLowerCase",["../global"],function(a){function b(a,b){if(null==a&&null==b)return c.toLowerCase.call(this);null==b&&(b=this.length);var d=this.substring(a,b).toLowerCase();return this.substring(0,a)+d+this.substring(b,this.length)}var c=a.String.prototype;return b}),b("boe/String/format",[],function(){function a(){var a,b=this;for(a=0;a<arguments.length;++a)b=b.replace(new RegExp("\\{"+a+"\\}","g"),arguments[a]);return b}return a}),b("boe/String/trimLeft",["../util"],function(a){return function(b){var c;"String"==a.type(b)?(c=b.charCodeAt(0).toString(16),b=c.length<=2?"\\x"+c:"\\u"+c):b instanceof RegExp||(b="\\s");var d=new RegExp("(^"+b+"*)","g");return this.replace(d,"")}}),b("boe/String/trimRight",["../util"],function(a){return function(b){var c;"String"==a.type(b)?(c=b.charCodeAt(0).toString(16),b=c.length<=2?"\\x"+c:"\\u"+c):b instanceof RegExp||(b="\\s");var d=new RegExp("("+b+"*$)","g");return this.replace(d,"")}}),b("boe/String/trim",["../global","./trimLeft","./trimRight"],function(a,b,c){var d=a.String.prototype;return d.trim||function(){var a=b.call(this);return a=c.call(a)}}),b("boe/String",["./util","./global","./String/toUpperCase","./String/toLowerCase","./String/format","./String/trim","./String/trimLeft","./String/trimRight"],function(a,b,c,d,e,f,g,h){var i=b.String.prototype,j={},k={},l=function(b){return b=new String(b),a.mixin(b,j),b};return j.toUpperCase=c,j.toLowerCase=d,j.format=e,j.trimLeft=g,j.trimRight=h,i.trim?j.trim=f:k=i.trim,a.mixinAsStatic(l,j),a.mixinAsStatic(l,k),l}),"function"!=typeof b&&"undefined"!=typeof module)var b=a("amdefine")(module);b("boe",["./boe/util","./boe/Array","./boe/Function","./boe/Number","./boe/Object","./boe/String"],function(a,b,c,d,e,f){var g,h,i=function(a){return function(){var b=a.apply(this,arguments);return b===g?this:b}};return h=function(b,c){var d=a.type(b),e=h[d];if(null!=e&&"Function"===a.type(e)){var f=e(b);if(1==c)for(var g in f)"Function"===a.type(f[g])&&(f[g]=i(f[g]));return f}return b},h.type=a.type,h.mixin=a.mixin,h.Array=b,h.Function=c,h.Number=d,h.Object=e,h.String=f,h}),d(function(){return a("boe")})}();